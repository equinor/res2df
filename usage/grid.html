<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>grid &mdash; ecl2df 0.17.3.dev4+g798ee622 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gruptree" href="gruptree.html" />
    <link rel="prev" title="fipreports" href="fipreports.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ecl2df
              <img src="../_static/equinor-logo2.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.17.3.dev4+g798ee622
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../usage.html">Usage and examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="equil.html">equil</a></li>
<li class="toctree-l2"><a class="reference internal" href="compdat.html">compdat</a></li>
<li class="toctree-l2"><a class="reference internal" href="fipreports.html">fipreports</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">grid</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-computations-on-a-grid-dataframe">Example computations on a grid dataframe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zone-information">Zone information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-data">Dynamic data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generating-eclipse-include-files-from-grid-data">Generating Eclipse include files from grid data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gruptree.html">gruptree</a></li>
<li class="toctree-l2"><a class="reference internal" href="nnc.html">nnc</a></li>
<li class="toctree-l2"><a class="reference internal" href="pillars.html">pillars</a></li>
<li class="toctree-l2"><a class="reference internal" href="pvt.html">pvt</a></li>
<li class="toctree-l2"><a class="reference internal" href="rft.html">rft</a></li>
<li class="toctree-l2"><a class="reference internal" href="satfunc.html">satfunc</a></li>
<li class="toctree-l2"><a class="reference internal" href="summary.html">summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="trans.html">trans</a></li>
<li class="toctree-l2"><a class="reference internal" href="wcon.html">wcon</a></li>
<li class="toctree-l2"><a class="reference internal" href="wellconnstatus.html">wellconnstatus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ecl2csv.html">ecl2csv</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csv2ecl.html">csv2ecl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribution.html">Contributing to ecl2df</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ecl2df/ecl2df.html"><code class="docutils literal notranslate"><span class="pre">ecl2df</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ecl2df</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../usage.html">Usage and examples</a></li>
      <li class="breadcrumb-item active">grid</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/usage/grid.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="grid">
<h1>grid<a class="headerlink" href="#grid" title="Permalink to this heading"></a></h1>
<p>The grid module will extract static and dynamic cell properties from
an Eclipse grid (from the binary output files from Eclipse). Each row
in a returned dataframe represents one cell.</p>
<p>Typical usage</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ecl2df</span> <span class="kn">import</span> <span class="n">grid</span><span class="p">,</span> <span class="n">EclFiles</span>

<span class="n">eclfiles</span> <span class="o">=</span> <span class="n">EclFiles</span><span class="p">(</span><span class="s1">&#39;MYDATADECK.DATA&#39;</span><span class="p">)</span>
<span class="n">dframe</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">df</span><span class="p">(</span><span class="n">eclfiles</span><span class="p">,</span> <span class="n">rstdates</span><span class="o">=</span><span class="s1">&#39;last&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where the API is documented at <a class="reference internal" href="../ecl2df/ecl2df.grid.html#ecl2df.grid.df" title="ecl2df.grid.df"><code class="xref py py-func docutils literal notranslate"><span class="pre">ecl2df.grid.df()</span></code></a>.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Example grid table</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>I</p></th>
<th class="head"><p>J</p></th>
<th class="head"><p>K</p></th>
<th class="head"><p>X</p></th>
<th class="head"><p>Y</p></th>
<th class="head"><p>Z</p></th>
<th class="head"><p>VOLUME</p></th>
<th class="head"><p>ZONE</p></th>
<th class="head"><p>DX</p></th>
<th class="head"><p>DY</p></th>
<th class="head"><p>DZ</p></th>
<th class="head"><p>PERMX</p></th>
<th class="head"><p>PERMY</p></th>
<th class="head"><p>PERMZ</p></th>
<th class="head"><p>MULTX</p></th>
<th class="head"><p>MULTY</p></th>
<th class="head"><p>MULTZ</p></th>
<th class="head"><p>PORO</p></th>
<th class="head"><p>NTG</p></th>
<th class="head"><p>TOPS</p></th>
<th class="head"><p>DEPTH</p></th>
<th class="head"><p>TRANX</p></th>
<th class="head"><p>TRANY</p></th>
<th class="head"><p>TRANZ</p></th>
<th class="head"><p>MINPVV</p></th>
<th class="head"><p>MULTPV</p></th>
<th class="head"><p>MULTX-</p></th>
<th class="head"><p>MULTY-</p></th>
<th class="head"><p>MULTZ-</p></th>
<th class="head"><p>PVTNUM</p></th>
<th class="head"><p>SATNUM</p></th>
<th class="head"><p>EQLNUM</p></th>
<th class="head"><p>FIPNUM</p></th>
<th class="head"><p>SWCR</p></th>
<th class="head"><p>SGCR</p></th>
<th class="head"><p>SWL</p></th>
<th class="head"><p>SWU</p></th>
<th class="head"><p>SGU</p></th>
<th class="head"><p>SWATINIT</p></th>
<th class="head"><p>PCW</p></th>
<th class="head"><p>ENDNUM</p></th>
<th class="head"><p>PORV</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>33</p></td>
<td><p>23</p></td>
<td><p>12</p></td>
<td><p>462878.51</p></td>
<td><p>5935238.80</p></td>
<td><p>1696.67</p></td>
<td><p>55693.32</p></td>
<td><p>LowerReek</p></td>
<td><p>155.67</p></td>
<td><p>157.75</p></td>
<td><p>2.34</p></td>
<td><p>872.85</p></td>
<td><p>762.13</p></td>
<td><p>12.04</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.17</p></td>
<td><p>1.00</p></td>
<td><p>1695.50</p></td>
<td><p>1696.67</p></td>
<td><p>2.75</p></td>
<td><p>20.80</p></td>
<td><p>44.68</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>5.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>0.52</p></td>
<td><p>0.29</p></td>
<td><p>1.00</p></td>
<td><p>9441.72</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p>42</p></td>
<td><p>7</p></td>
<td><p>463686.47</p></td>
<td><p>5932157.60</p></td>
<td><p>1665.32</p></td>
<td><p>85390.39</p></td>
<td><p>MidReek</p></td>
<td><p>164.68</p></td>
<td><p>145.10</p></td>
<td><p>3.79</p></td>
<td><p>543.31</p></td>
<td><p>500.66</p></td>
<td><p>150.98</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.21</p></td>
<td><p>1.00</p></td>
<td><p>1663.43</p></td>
<td><p>1665.32</p></td>
<td><p>16.83</p></td>
<td><p>24.57</p></td>
<td><p>936.74</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>3.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>0.17</p></td>
<td><p>1.38</p></td>
<td><p>1.00</p></td>
<td><p>17970.08</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>46</p></td>
<td><p>10</p></td>
<td><p>460477.69</p></td>
<td><p>5929629.55</p></td>
<td><p>1715.63</p></td>
<td><p>51612.48</p></td>
<td><p>MidReek</p></td>
<td><p>162.53</p></td>
<td><p>158.84</p></td>
<td><p>2.00</p></td>
<td><p>11.17</p></td>
<td><p>10.67</p></td>
<td><p>2.56</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>1714.64</p></td>
<td><p>1715.63</p></td>
<td><p>0.22</p></td>
<td><p>0.23</p></td>
<td><p>143.98</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>2.00</p></td>
<td><p>4.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>5316.95</p></td>
</tr>
<tr class="row-odd"><td><p>40</p></td>
<td><p>58</p></td>
<td><p>1</p></td>
<td><p>466630.07</p></td>
<td><p>5930981.02</p></td>
<td><p>1746.57</p></td>
<td><p>87201.74</p></td>
<td><p>UpperReek</p></td>
<td><p>162.04</p></td>
<td><p>158.67</p></td>
<td><p>3.39</p></td>
<td><p>18.57</p></td>
<td><p>18.20</p></td>
<td><p>5.20</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.16</p></td>
<td><p>1.00</p></td>
<td><p>1744.87</p></td>
<td><p>1746.57</p></td>
<td><p>0.00</p></td>
<td><p>0.41</p></td>
<td><p>209.54</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>13769.95</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>18</p></td>
<td><p>12</p></td>
<td><p>457973.31</p></td>
<td><p>5933320.14</p></td>
<td><p>1707.47</p></td>
<td><p>3083.59</p></td>
<td><p>LowerReek</p></td>
<td><p>162.87</p></td>
<td><p>158.88</p></td>
<td><p>0.12</p></td>
<td><p>1080.20</p></td>
<td><p>1092.24</p></td>
<td><p>587.32</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.19</p></td>
<td><p>1.00</p></td>
<td><p>1707.41</p></td>
<td><p>1707.47</p></td>
<td><p>0.04</p></td>
<td><p>0.07</p></td>
<td><p>188620.52</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>2.00</p></td>
<td><p>6.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>588.97</p></td>
</tr>
<tr class="row-odd"><td><p>34</p></td>
<td><p>18</p></td>
<td><p>3</p></td>
<td><p>462588.36</p></td>
<td><p>5935985.66</p></td>
<td><p>1743.73</p></td>
<td><p>86129.97</p></td>
<td><p>UpperReek</p></td>
<td><p>157.82</p></td>
<td><p>159.33</p></td>
<td><p>3.77</p></td>
<td><p>824.81</p></td>
<td><p>416.02</p></td>
<td><p>7.49</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.15</p></td>
<td><p>1.00</p></td>
<td><p>1741.85</p></td>
<td><p>1743.73</p></td>
<td><p>34.85</p></td>
<td><p>0.60</p></td>
<td><p>72.32</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>13159.47</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>33</p></td>
<td><p>8</p></td>
<td><p>461273.47</p></td>
<td><p>5932470.66</p></td>
<td><p>1695.74</p></td>
<td><p>98164.92</p></td>
<td><p>MidReek</p></td>
<td><p>159.48</p></td>
<td><p>160.87</p></td>
<td><p>3.90</p></td>
<td><p>3546.26</p></td>
<td><p>3705.67</p></td>
<td><p>1031.11</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.28</p></td>
<td><p>1.00</p></td>
<td><p>1693.79</p></td>
<td><p>1695.74</p></td>
<td><p>84.65</p></td>
<td><p>0.69</p></td>
<td><p>4601.49</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>3.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>0.37</p></td>
<td><p>0.28</p></td>
<td><p>1.00</p></td>
<td><p>27372.72</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>31</p></td>
<td><p>1</p></td>
<td><p>459824.59</p></td>
<td><p>5932016.79</p></td>
<td><p>1691.00</p></td>
<td><p>90932.57</p></td>
<td><p>UpperReek</p></td>
<td><p>157.02</p></td>
<td><p>161.91</p></td>
<td><p>3.45</p></td>
<td><p>8.57</p></td>
<td><p>8.05</p></td>
<td><p>2.40</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.08</p></td>
<td><p>1.00</p></td>
<td><p>1689.27</p></td>
<td><p>1691.00</p></td>
<td><p>0.32</p></td>
<td><p>0.42</p></td>
<td><p>27.87</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>2.00</p></td>
<td><p>2.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>7239.36</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>42</p></td>
<td><p>8</p></td>
<td><p>460441.80</p></td>
<td><p>5930342.11</p></td>
<td><p>1706.57</p></td>
<td><p>33530.51</p></td>
<td><p>MidReek</p></td>
<td><p>161.63</p></td>
<td><p>158.73</p></td>
<td><p>1.30</p></td>
<td><p>8.26</p></td>
<td><p>8.77</p></td>
<td><p>2.22</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.11</p></td>
<td><p>1.00</p></td>
<td><p>1705.92</p></td>
<td><p>1706.56</p></td>
<td><p>0.17</p></td>
<td><p>0.19</p></td>
<td><p>278.38</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>2.00</p></td>
<td><p>4.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>3739.00</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>23</p></td>
<td><p>4</p></td>
<td><p>459334.81</p></td>
<td><p>5933199.93</p></td>
<td><p>1697.49</p></td>
<td><p>78722.27</p></td>
<td><p>UpperReek</p></td>
<td><p>175.77</p></td>
<td><p>156.61</p></td>
<td><p>3.35</p></td>
<td><p>8.80</p></td>
<td><p>9.02</p></td>
<td><p>2.29</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>1695.82</p></td>
<td><p>1697.49</p></td>
<td><p>0.28</p></td>
<td><p>0.38</p></td>
<td><p>36.92</p></td>
<td><p>0.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>1.00</p></td>
<td><p>2.00</p></td>
<td><p>2.00</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>1.00</p></td>
<td><p>0.90</p></td>
<td><p>1.00</p></td>
<td></td>
<td><p>1.00</p></td>
<td><p>7595.92</p></td>
</tr>
</tbody>
</table>
<p>Alternatively, the same data can be produced as a CSV file using the command line</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ecl2csv grid --help  # Will display some help text</span>
<span class="go">ecl2csv grid MYDATADECK.DATA --rstdates last --verbose --output grid.csv</span>
</pre></div>
</div>
<p>Select which vectors to include (INIT and/or restart vectors) with the
<code class="docutils literal notranslate"><span class="pre">vectors</span></code> argument, as in the example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ecl2csv grid --verbose MYDATADECK.DATA --vectors PRESSURE PERMX</span>
</pre></div>
</div>
<section id="example-computations-on-a-grid-dataframe">
<h2>Example computations on a grid dataframe<a class="headerlink" href="#example-computations-on-a-grid-dataframe" title="Permalink to this heading"></a></h2>
<p>Some grid statistic operations are very neatly expressed using Python and
Pandas. Some examples (provided that the <code class="docutils literal notranslate"><span class="pre">dframe</span></code> object is initialized as in
the topmost example):</p>
<p>Summation of floating point numbers is difficult for computers, as summing each
number in a sequence can lead to accumulation of roundoff errors. This is
proven to have an impact on volumetrics computations on a grid. For this, the
Python function <code class="docutils literal notranslate"><span class="pre">math.fsum()</span></code> should always be used.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Average non-weighted porosity:</span>
<span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;PORO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Bulk volume in Gm3:</span>
<span class="n">math</span><span class="o">.</span><span class="n">fsum</span><span class="p">(</span><span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;VOLUME&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="mf">1e9</span>

<span class="c1"># Total pore volume:</span>
<span class="n">math</span><span class="o">.</span><span class="n">fsum</span><span class="p">(</span><span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;PORV&quot;</span><span class="p">])</span>

<span class="c1"># Average (weighted) porosity:</span>
<span class="n">math</span><span class="o">.</span><span class="n">fsum</span><span class="p">(</span><span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;PORV&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">fsum</span><span class="p">(</span><span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;VOLUME&quot;</span><span class="p">])</span>

<span class="c1"># Apex reservoir (cell centre):</span>
<span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;Z&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>

<span class="c1"># Apex reservoir (topmost cell corner):</span>
<span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;Z_MIN&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</pre></div>
</div>
<p>Pandas has powerful aggregation operators, and any thinkable statistical measure
can be applied to the data. The Pandas <cite>groupby()</cite> operation can be used to get
statistical measures pr. regions. All of the above examples can be rephrased to
compute values for every SATNUM, EQLNUM or similar. Example:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="c1"># Apex reservoir pr equilibriation zone</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">dframe</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;EQLNUM&quot;</span><span class="p">])[</span><span class="s2">&quot;Z&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
<span class="n">EQLNUM</span>
<span class="mf">1.0</span>    <span class="mf">1568.876251</span>
<span class="mf">2.0</span>    <span class="mf">1619.720749</span>
<span class="n">Name</span><span class="p">:</span> <span class="n">Z</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</pre></div>
</div>
</section>
<section id="zone-information">
<h2>Zone information<a class="headerlink" href="#zone-information" title="Permalink to this heading"></a></h2>
<p>As mentioned in <a class="reference internal" href="../introduction.html#zone-names"><span class="std std-ref">Zone names</span></a>, if the text file called <cite>zones.lyr</cite> is found
alongside, zone information will automatically be merged into each row based on the <cite>K</cite>
column. This can be used for statistics pr. zone,</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="c1"># Permeability (arithmetic average) pr. zone</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">dframe</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ZONE&quot;</span><span class="p">)[</span><span class="s2">&quot;PERMX&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span>
<span class="n">ZONE</span>
<span class="n">LowerReek</span>    <span class="mf">979.605462</span>
<span class="n">MidReek</span>      <span class="mf">833.304757</span>
<span class="n">UpperReek</span>    <span class="mf">545.180473</span>
</pre></div>
</div>
<p>If you have the layer information in a different file, you need to tell the code
the whereabouts of the file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ecl2df</span> <span class="kn">import</span> <span class="n">grid</span><span class="p">,</span> <span class="n">EclFiles</span><span class="p">,</span> <span class="n">common</span>

<span class="n">eclfiles</span> <span class="o">=</span> <span class="n">EclFiles</span><span class="p">(</span><span class="s2">&quot;&#39;MYDATADECK.DATA&quot;</span><span class="p">)</span>
<span class="n">dframe</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">df</span><span class="p">(</span><span class="n">eclfiles</span><span class="p">)</span>
<span class="c1"># The filename with layers is relative to DATA-file location</span>
<span class="c1"># or an absolute path.</span>
<span class="n">subzonemap</span> <span class="o">=</span> <span class="n">ecl2df</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">parse_zonemapfile</span><span class="p">(</span><span class="s2">&quot;subzones.lyr&quot;</span><span class="p">)</span>
<span class="n">dframe_with_subzones</span> <span class="o">=</span> <span class="n">common</span><span class="o">.</span><span class="n">merge_zones</span><span class="p">(</span>
    <span class="n">dframe</span><span class="p">,</span> <span class="n">subzonemap</span><span class="p">,</span> <span class="n">zoneheader</span><span class="o">=</span><span class="s2">&quot;SUBZONE&quot;</span><span class="p">,</span> <span class="n">kname</span><span class="o">=</span><span class="s2">&quot;K&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>For more control over merging of zones, check the documentation for
the function <a class="reference internal" href="../ecl2df/ecl2df.common.html#ecl2df.common.merge_zones" title="ecl2df.common.merge_zones"><code class="xref py py-func docutils literal notranslate"><span class="pre">ecl2df.common.merge_zones()</span></code></a> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">ecl2df.common.parse_zonemapfile()</span></code></p>
</section>
<section id="dynamic-data">
<h2>Dynamic data<a class="headerlink" href="#dynamic-data" title="Permalink to this heading"></a></h2>
<p>By adding a restart date, dynamic data for one particular restart date can be
added, through the API option <code class="docutils literal notranslate"><span class="pre">rstdates</span></code> or the command line option
<code class="docutils literal notranslate"><span class="pre">--rstdates</span></code>.</p>
<p>You can write dates in ISO-8601 format, or you can specify <em>first</em>, <em>last</em> or
<em>all</em>.  If you select all dates, you can choose to have a set of columns for
every date, or have the date encoded in a column called <code class="docutils literal notranslate"><span class="pre">DATE</span></code>, this is
controlled via the <code class="docutils literal notranslate"><span class="pre">--stackdates</span></code> option.</p>
<p>See also the <a class="reference internal" href="pillars.html#usage-pillars"><span class="std std-ref">pillars</span></a> module for an application of the grid data.
Calculating volumes of dynamic data (pr. some region parameter) can be obtained
from that module as a by-product of the pillar computations.</p>
</section>
<section id="generating-eclipse-include-files-from-grid-data">
<h2>Generating Eclipse include files from grid data<a class="headerlink" href="#generating-eclipse-include-files-from-grid-data" title="Permalink to this heading"></a></h2>
<p>If you have loaded grid data into a Pandas frame, some operations are easily performed,
scaling porosity, permeability etc. Or remapping some region parameters. Using the
<a class="reference internal" href="../ecl2df/ecl2df.grid.html#ecl2df.grid.df2ecl" title="ecl2df.grid.df2ecl"><code class="xref py py-func docutils literal notranslate"><span class="pre">ecl2df.grid.df2ecl()</span></code></a> function these manipulated vectors can be written back as
include files to Eclipse.</p>
<p>Say you want to change the FIPNUM, and that FIPNUM 6 should be removed, and set
it to FIPNUM 5. This can be accomplished using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ecl2df</span> <span class="kn">import</span> <span class="n">grid</span><span class="p">,</span> <span class="n">EclFiles</span><span class="p">,</span> <span class="n">common</span>

<span class="n">eclfiles</span> <span class="o">=</span> <span class="n">EclFiles</span><span class="p">(</span><span class="s2">&quot;&#39;MYDATADECK.DATA&quot;</span><span class="p">)</span>
<span class="n">dframe</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">df</span><span class="p">(</span><span class="n">eclfiles</span><span class="p">)</span>

<span class="c1"># Change FIPNUM 6 to FIPNUM 5:</span>
<span class="n">rows_to_touch</span> <span class="o">=</span> <span class="n">dframe</span><span class="p">[</span><span class="s2">&quot;FIPNUM&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">6</span>
<span class="n">dframe</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">rows_to_touch</span><span class="p">,</span> <span class="s2">&quot;FIPNUM&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># Write back to new include file, ensure datatype is integer.</span>
<span class="n">grid</span><span class="o">.</span><span class="n">df2ecl</span><span class="p">(</span><span class="n">dframe</span><span class="p">,</span> <span class="s2">&quot;FIPNUM&quot;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;fipnum.inc&quot;</span><span class="p">,</span> <span class="n">eclfiles</span><span class="o">=</span><span class="n">eclfiles</span><span class="p">)</span>
</pre></div>
</div>
<p>This will produce the file <cite>fipnum.inc</cite> with the contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span> <span class="n">Output</span> <span class="n">file</span> <span class="n">printed</span> <span class="n">by</span> <span class="n">ecl2df</span><span class="o">.</span><span class="n">grid</span> <span class="mf">0.6.0</span>
<span class="o">--</span> <span class="n">at</span> <span class="mi">2020</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">23</span> <span class="mi">10</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mf">22.529558</span>

<span class="n">FIPNUM</span>
     <span class="mi">21</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">19</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">20</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">20</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">20</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">20</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">19</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">21</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">19</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">21</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">18</span><span class="o">*</span><span class="mi">2</span>
     <span class="mi">22</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">18</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">22</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">18</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">22</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">17</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">23</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">16</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">24</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">16</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">24</span><span class="o">*</span><span class="mi">1</span>
     <span class="mi">15</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">25</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">15</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">25</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">15</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">25</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">15</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">25</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">15</span><span class="o">*</span><span class="mi">2</span>  <span class="mi">25</span><span class="o">*</span><span class="mi">1</span>  <span class="mi">14</span><span class="o">*</span><span class="mi">2</span>
<span class="p">[</span><span class="o">..</span><span class="n">snip</span><span class="o">...</span><span class="p">]</span>
     <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">94</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">148</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">2235</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">94</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>
     <span class="mi">148</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">104</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">2130</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">94</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">148</span><span class="o">*</span><span class="mi">5</span>
     <span class="mi">0</span>  <span class="mi">2235</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">39</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">94</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">148</span><span class="o">*</span><span class="mi">5</span>  <span class="mi">0</span>  <span class="mi">1195</span><span class="o">*</span><span class="mi">5</span>
<span class="o">/</span> <span class="o">--</span> <span class="n">FIPNUM</span><span class="p">:</span> <span class="mi">35817</span> <span class="n">active</span> <span class="n">cells</span><span class="p">,</span> <span class="mi">35840</span> <span class="n">total</span> <span class="n">cell</span> <span class="n">count</span>
</pre></div>
</div>
<p>It is recommended to supply the <code class="docutils literal notranslate"><span class="pre">eclfiles</span></code> object to <code class="docutils literal notranslate"><span class="pre">df2ecl</span></code>, if not, correct grid
size can not be ensured.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fipreports.html" class="btn btn-neutral float-left" title="fipreports" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gruptree.html" class="btn btn-neutral float-right" title="gruptree" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Equinor 2019-2023.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #ff1243;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #474747;
    }
    .wy-side-nav-search > div.version {
      color: white;
    }
  </style>


</body>
</html>