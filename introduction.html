

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; res2df 1.2.4.dev16+g7648b678 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
      <script src="_static/jquery.js"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
      <script src="_static/doctools.js"></script>
      <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage and examples" href="usage.html" />
    <link rel="prev" title="res2df" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            res2df
              <img src="_static/equinor-logo2.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#short-description-of-each-submodule">Short description of each submodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary"><code class="docutils literal notranslate"><span class="pre">summary</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#grid"><code class="docutils literal notranslate"><span class="pre">grid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#nnc"><code class="docutils literal notranslate"><span class="pre">nnc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pillars"><code class="docutils literal notranslate"><span class="pre">pillars</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#trans"><code class="docutils literal notranslate"><span class="pre">trans</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#rft"><code class="docutils literal notranslate"><span class="pre">rft</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#fipreports"><code class="docutils literal notranslate"><span class="pre">fipreports</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#satfunc"><code class="docutils literal notranslate"><span class="pre">satfunc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#equil"><code class="docutils literal notranslate"><span class="pre">equil</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#compdat"><code class="docutils literal notranslate"><span class="pre">compdat</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#gruptree"><code class="docutils literal notranslate"><span class="pre">gruptree</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pvt"><code class="docutils literal notranslate"><span class="pre">pvt</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#wcon"><code class="docutils literal notranslate"><span class="pre">wcon</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#resdatafiles"><code class="docutils literal notranslate"><span class="pre">resdatafiles</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#metadata-support">Metadata support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameters-txt">parameters.txt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zone-names">Zone names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage and examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="res2csv.html">res2csv</a></li>
<li class="toctree-l1"><a class="reference internal" href="csv2res.html">csv2res</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribution.html">Contributing to res2df</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="res2df/res2df.html"><code class="docutils literal notranslate"><span class="pre">res2df</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">res2df</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/introduction.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h1>
<p><em>res2df</em> is a <a class="reference external" href="https://pandas.pydata.org/">Pandas DataFrame</a> wrapper
around <a class="reference external" href="https://github.com/equinor/resdata/">resdata</a> and <a class="reference external" href="https://github.com/OPM/opm-common/">opm.io</a>, which are used to access
<a class="reference internal" href="glossary.html#term-output-file"><span class="xref std std-term">binary files outputted by reservoir simulators</span></a> such as Eclipse, or its
<a class="reference internal" href="glossary.html#term-deck"><span class="xref std std-term">input files</span></a> — or any other tool outputting to the same data format,
f.ex. <a class="reference external" href="https://opm-project.org/?page_id=19">flow</a>.</p>
<p>Most of the features can be reached from the command line, through the
command line program <code class="docutils literal notranslate"><span class="pre">res2csv</span></code>. Use the command line tool to dump the
extracted or computed data to a CSV file, and use any other tool to
view the CSV data.</p>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&gt; res2csv --help</span>
<span class="go">&gt; res2csv summary --help</span>
<span class="go">&gt; res2csv summary --column_keys &quot;F*&quot; --time_index monthly --output output.csv MYDECK.DATA</span>
<span class="go">&gt; res2csv pillars --help</span>
<span class="go">&gt; res2csv pillars --rstdates all MYDECK.DATA</span>
</pre></div>
</div>
<p>If you access the module from within a Python script, for each submodule
there is a function called <code class="docutils literal notranslate"><span class="pre">df()</span></code> which provides more or less the same
functionality as through <code class="docutils literal notranslate"><span class="pre">res2csv</span></code> from the command line, but which returns
a Pandas Dataframe.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">res2df</span>

<span class="n">resdatafiles</span> <span class="o">=</span> <span class="n">res2df</span><span class="o">.</span><span class="n">ResdataFiles</span><span class="p">(</span><span class="s2">&quot;MYDECK.DATA&quot;</span><span class="p">)</span>
<span class="n">smry</span> <span class="o">=</span> <span class="n">res2df</span><span class="o">.</span><span class="n">summary</span><span class="o">.</span><span class="n">df</span><span class="p">(</span><span class="n">resdatafiles</span><span class="p">,</span> <span class="n">column_keys</span><span class="o">=</span><span class="s2">&quot;F*&quot;</span><span class="p">,</span> <span class="n">time_index</span><span class="o">=</span><span class="s2">&quot;monthly&quot;</span><span class="p">)</span>
<span class="n">hc_contacts</span> <span class="o">=</span> <span class="n">res2df</span><span class="o">.</span><span class="n">pillars</span><span class="o">.</span><span class="n">df</span><span class="p">(</span><span class="n">resdatafiles</span><span class="p">,</span> <span class="n">rstdates</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>See the API for more documentation and possibilities for each module.</p>
</section>
<section id="short-description-of-each-submodule">
<h2>Short description of each submodule<a class="headerlink" href="#short-description-of-each-submodule" title="Permalink to this heading"></a></h2>
<section id="summary">
<h3><code class="docutils literal notranslate"><span class="pre">summary</span></code><a class="headerlink" href="#summary" title="Permalink to this heading"></a></h3>
<p>Extracts summary data from <a class="reference internal" href="glossary.html#term-output-file"><span class="xref std std-term">.UNSMRY</span></a> files, at requested time sampling and
for requested vectors.</p>
<p>More documentation on <a class="reference internal" href="usage/summary.html"><span class="doc">summary</span></a>.</p>
</section>
<section id="grid">
<h3><code class="docutils literal notranslate"><span class="pre">grid</span></code><a class="headerlink" href="#grid" title="Permalink to this heading"></a></h3>
<p>Extracts grid data from <a class="reference internal" href="glossary.html#term-output-file"><span class="xref std std-term">.INIT</span></a>, <a class="reference internal" href="glossary.html#term-output-file"><span class="xref std std-term">.EGRID</span></a>,
and <a class="reference internal" href="glossary.html#term-output-file"><span class="xref std std-term">.UNRST</span></a> files. Restart file
are optional to extract, and dates must be picked (or all). Data is
merged into one DataFrame by the <cite>i</cite>, <cite>j</cite> and <cite>k</cite> indices. Bulk cell
volume is included. Cells are indexed starting with 1.</p>
<p>More documentation on <a class="reference internal" href="usage/grid.html"><span class="doc">grid</span></a>.</p>
</section>
<section id="nnc">
<h3><code class="docutils literal notranslate"><span class="pre">nnc</span></code><a class="headerlink" href="#nnc" title="Permalink to this heading"></a></h3>
<p>Extracts the non-neighbour connections in the grid (from the binary
output data in EGRID, not the NNC input keyword), as pairs of
<cite>ijk</cite>-indices and the associated transmissiblity. Optional filtering
to vertical connections (along pillars).</p>
<p>More documentation on <a class="reference internal" href="usage/nnc.html"><span class="doc">nnc</span></a>.</p>
</section>
<section id="pillars">
<h3><code class="docutils literal notranslate"><span class="pre">pillars</span></code><a class="headerlink" href="#pillars" title="Permalink to this heading"></a></h3>
<p>Compute statistics pr cornerpoint pillar, and optionally compute hydrocarbon
fluid contacts pr. pillar and pr. date based on saturation cutoffs. Data
can be grouped and aggregated over a region parameter.</p>
<p>More documentation on <a class="reference internal" href="usage/pillars.html"><span class="doc">pillars</span></a>.</p>
</section>
<section id="trans">
<h3><code class="docutils literal notranslate"><span class="pre">trans</span></code><a class="headerlink" href="#trans" title="Permalink to this heading"></a></h3>
<p>Extract transmissibilities for all cells. Can filter by directions, add
transmissibilities from NNC-data. If a region vector is supplied, it is
possible to filter on transmissibilities where the region changes, picking
out transmissibilities over f.ex. a FIPNUM interface. Data can also be aggregated
over the region interface to give a grid-independent quantification of region
communication.</p>
<p>More documentation on <a class="reference internal" href="usage/trans.html"><span class="doc">trans</span></a>.</p>
</section>
<section id="rft">
<h3><code class="docutils literal notranslate"><span class="pre">rft</span></code><a class="headerlink" href="#rft" title="Permalink to this heading"></a></h3>
<p>Reads the <cite>.RFT</cite> files which are outputted by the
<a class="reference internal" href="glossary.html#term-reservoir-simulator"><span class="xref std std-term">simulator</span></a> when
the <cite>WRFTPLT</cite> keyword is used, with details along wellbores.</p>
<p>For multisegment wells, the well topology is calculated and data
is merged accordingly, for example when ICD segments are used, enabling
easy calculations of the pressure drop over an ICD valve.</p>
<p>More documentation on <a class="reference internal" href="usage/rft.html"><span class="doc">rft</span></a>.</p>
</section>
<section id="fipreports">
<h3><code class="docutils literal notranslate"><span class="pre">fipreports</span></code><a class="headerlink" href="#fipreports" title="Permalink to this heading"></a></h3>
<p>Parses the PRT file looking for region reports (starting
with “ … FIPNUM REPORT REGION”). It will extract all the data
in the ASCII table in the PRT file and organize into a dataframe,
currently-in-place, outflow to wells, outflows to regions, etc. It also
supports custom FIPxxxxx names.</p>
<p>More documentation on <a class="reference internal" href="usage/fipreports.html"><span class="doc">fipreports</span></a>.</p>
</section>
<section id="satfunc">
<h3><code class="docutils literal notranslate"><span class="pre">satfunc</span></code><a class="headerlink" href="#satfunc" title="Permalink to this heading"></a></h3>
<p>Extracts saturation functions (SWOF, SGOF, etc) from the <a class="reference internal" href="glossary.html#term-deck"><span class="xref std std-term">deck</span></a> and merges
into one DataFrame. Can write back to <a class="reference internal" href="glossary.html#term-include-file"><span class="xref std std-term">include files</span></a>.</p>
<p>More documentation on <a class="reference internal" href="usage/satfunc.html"><span class="doc">satfunc</span></a>.</p>
</section>
<section id="equil">
<h3><code class="docutils literal notranslate"><span class="pre">equil</span></code><a class="headerlink" href="#equil" title="Permalink to this heading"></a></h3>
<p>Extracts the information in the <cite>EQUIL</cite> table, <cite>RSVD</cite> and <cite>RVVD</cite> in the
<a class="reference internal" href="glossary.html#term-.DATA-file"><span class="xref std std-term">.DATA file</span></a>. Can write back to <a class="reference internal" href="glossary.html#term-include-file"><span class="xref std std-term">include files</span></a>.</p>
<p>More documentation on <a class="reference internal" href="usage/equil.html"><span class="doc">equil</span></a>.</p>
</section>
<section id="compdat">
<h3><code class="docutils literal notranslate"><span class="pre">compdat</span></code><a class="headerlink" href="#compdat" title="Permalink to this heading"></a></h3>
<p>Extracts well connection data from the <cite>COMPDAT</cite> keyword in the <a class="reference internal" href="glossary.html#term-deck"><span class="xref std std-term">deck</span></a>.
For multi-segment wells, <cite>WELSEGS</cite> and <cite>COMPSEGS</cite> is also parsed. The
data is available as three different dataframes, which can be merged.</p>
<p>It is also possible to parse individual <a class="reference internal" href="glossary.html#term-include-file"><span class="xref std std-term">“include files”</span></a>.
These files do not necessarily have to be part of a complete <a class="reference internal" href="glossary.html#term-deck"><span class="xref std std-term">deck</span></a></p>
<p>More documentation on <a class="reference internal" href="usage/compdat.html"><span class="doc">compdat</span></a>.</p>
</section>
<section id="gruptree">
<h3><code class="docutils literal notranslate"><span class="pre">gruptree</span></code><a class="headerlink" href="#gruptree" title="Permalink to this heading"></a></h3>
<p>Extracts the information from the <cite>GRUPTREE</cite> and <cite>WELSPECS</cite> keyword, at
all timesteps, from the <a class="reference internal" href="glossary.html#term-.DATA-file"><span class="xref std std-term">.DATA file</span></a>. The tree structure at each relevant
date can be returned as a dataframe of the edges, as a nested dictionary
or as a <cite>treelib</cite> tree.</p>
<p>More documentation on <a class="reference internal" href="usage/gruptree.html"><span class="doc">gruptree</span></a>.</p>
</section>
<section id="pvt">
<h3><code class="docutils literal notranslate"><span class="pre">pvt</span></code><a class="headerlink" href="#pvt" title="Permalink to this heading"></a></h3>
<p>Extracts PVT data from a <a class="reference internal" href="glossary.html#term-.DATA-file"><span class="xref std std-term">.DATA file</span></a>, from the keywords <cite>PVTO</cite>, <cite>PVDG</cite>,
<cite>DENSITY</cite>, <cite>ROCK</cite> etc. Can write data back to <a class="reference internal" href="glossary.html#term-include-file"><span class="xref std std-term">include files</span></a>.</p>
<p>More documentation on <a class="reference internal" href="usage/pvt.html"><span class="doc">pvt</span></a>.</p>
</section>
<section id="wcon">
<h3><code class="docutils literal notranslate"><span class="pre">wcon</span></code><a class="headerlink" href="#wcon" title="Permalink to this heading"></a></h3>
<p>Extracts <cite>WCONxxxx</cite> keywords from the Schedule section, and providing the
associated data in a dataframe format.</p>
<p>More documentation on <a class="reference internal" href="usage/wcon.html"><span class="doc">wcon</span></a>.</p>
</section>
<section id="resdatafiles">
<h3><code class="docutils literal notranslate"><span class="pre">resdatafiles</span></code><a class="headerlink" href="#resdatafiles" title="Permalink to this heading"></a></h3>
<p>This is an internal helper module in order to represent finished or
unfinished <a class="reference internal" href="glossary.html#term-.DATA-file"><span class="xref std std-term">.DATA files</span></a> and runs. The class ResdataFiles can cache binary
files that are recently read, and is able to locate the various
<a class="reference internal" href="glossary.html#term-output-file"><span class="xref std std-term">output files</span></a> based on the basename or the <cite>.DATA</cite> filename.</p>
</section>
</section>
<section id="metadata-support">
<h2>Metadata support<a class="headerlink" href="#metadata-support" title="Permalink to this heading"></a></h2>
<section id="parameters-txt">
<h3>parameters.txt<a class="headerlink" href="#parameters-txt" title="Permalink to this heading"></a></h3>
<p>Metadata for each <a class="reference internal" href="glossary.html#term-.DATA-file"><span class="xref std std-term">.DATA file</span></a> are sometimes added in a text file named
<code class="docutils literal notranslate"><span class="pre">parameters.txt</span></code>, alongside the Eclipse .DATA file or one or two directory levels
above it.</p>
<p>Each line in the text file should contain a string, interpreted as the key, and
a value for the key, which can be a string or number. Some modules can merge this
information onto each row, where the key in the parameters end up as column names.</p>
<p>The filenames <code class="docutils literal notranslate"><span class="pre">parameters.json</span></code> and <code class="docutils literal notranslate"><span class="pre">parameters.yml</span></code> are also supported, assumed
to be of JSON or YAML format respectively, but only one of them will be parsed.</p>
<p>Currently only supported by the summary module, for other modules, the data will
have to be merged with pandas.merge().</p>
</section>
<section id="zone-names">
<span id="id1"></span><h3>Zone names<a class="headerlink" href="#zone-names" title="Permalink to this heading"></a></h3>
<p>If a text file with zone names are found alongside <a class="reference internal" href="glossary.html#term-.DATA-file"><span class="xref std std-term">.DATA files</span></a>,
some of the modules will add that information to rows where appropriate.
The zone or layer file should contains lines like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;ZoneA&#39;</span> <span class="mi">1</span><span class="o">-</span><span class="mi">4</span>
<span class="s1">&#39;ZoneB&#39;</span> <span class="mi">5</span><span class="o">-</span><span class="mi">10</span>
</pre></div>
</div>
<p>The default filename looked for is <code class="docutils literal notranslate"><span class="pre">zones.lyr</span></code>.</p>
</section>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading"></a></h2>
<p>This library is released under GPLv3.</p>
</section>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this heading"></a></h2>
<p>The code is Copyright Equinor ASA 2019-2020.</p>
<p>Contributions without copyright transfer are welcome.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="res2df" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="usage.html" class="btn btn-neutral float-right" title="Usage and examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Equinor 2019-2025.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #ff1243;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #474747;
    }
    .wy-side-nav-search > div.version {
      color: white;
    }
  </style>


</body>
</html>